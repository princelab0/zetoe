(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3429],{2602:(e,r,s)=>{Promise.resolve().then(s.bind(s,21753))},21753:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>j});var a=s(74494),t=s(44231),l=s(92091),n=s(14047),c=s.n(n),i=s(61644),d=s.n(i);function o(e){let{id:r,title:s,date:t,preview:n,model_name:i}=e,o=c()(t).fromNow();return(0,a.jsx)(d(),{href:"/search/".concat(r),className:"flex-1 rounded-md flex-col cursor-pointer transition-colors group bg-background no-underline",children:(0,a.jsxs)("div",{className:"p-2 flex flex-col justify-between h-full space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"line-clamp-1 text-foreground font-medium group-hover:text-tint group-hover:font-semibold",children:s}),(0,a.jsx)("p",{className:"text-foreground/60 line-clamp-2",children:n})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-foreground/70",children:[(0,a.jsx)(l.A,{className:"w-3 h-3"}),(0,a.jsx)("p",{className:"text-xs",children:o})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 text-foreground/70"})]})]})})}var x=s(603),f=s(35621);let m=s(65256)._.NEXT_PUBLIC_API_URL,u=async()=>{let e=await fetch("".concat(m,"/history"));if(!e.ok)throw Error((await e.json()).detail||"Failed to fetch chat history");return(await e.json()).snapshots},h=()=>(0,f.I)({queryKey:["chatHistory"],queryFn:u,retry:!1});var p=s(82345),N=s(79790);function j(){let{data:e,isLoading:r,error:s}=h();return s||e?(0,a.jsx)("div",{className:"h-screen ",children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl pt-[72px] px-4 pb-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(p.A,{className:"w-5 h-5"}),(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Chat History"})]}),(0,a.jsx)(x.w,{className:"mb-4"}),s&&(0,a.jsx)(t.K,{content:s.message}),e&&(0,a.jsx)("ul",{className:"flex flex-col gap-4",children:e.map((r,s)=>(0,a.jsxs)(N.Fragment,{children:[(0,a.jsx)(o,{...r}),s<e.length-1&&(0,a.jsx)(x.w,{className:""})]},r.id))})]})}):(0,a.jsx)("div",{children:"Loading..."})}},64684:(e,r,s)=>{"use strict";s.d(r,{BT:()=>d,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>c,wL:()=>x});var a=s(74494),t=s(79790),l=s(71221);let n=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...t})});n.displayName="Card";let c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});c.displayName="CardHeader";let i=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...t})});i.displayName="CardTitle";let d=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})});d.displayName="CardDescription";let o=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...t})});o.displayName="CardContent";let x=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",s),...t})});x.displayName="CardFooter"},603:(e,r,s)=>{"use strict";s.d(r,{w:()=>c});var a=s(74494),t=s(79790),l=s(92546),n=s(71221);let c=t.forwardRef((e,r)=>{let{className:s,orientation:t="horizontal",decorative:c=!0,...i}=e;return(0,a.jsx)(l.b,{ref:r,decorative:c,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",s),...i})});c.displayName=l.b.displayName},71221:(e,r,s)=>{"use strict";s.d(r,{cn:()=>l,gL:()=>n,xZ:()=>c});var a=s(46191),t=s(47006);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}function n(e,r){return e?e.length>r?"".concat(e.substring(0,r),"..."):e:""}let c=(e,r)=>e&&"number"==typeof e.main.temp?Math.round(r?9*e.main.temp/5+32:e.main.temp):"N/A"}},e=>{var r=r=>e(e.s=r);e.O(0,[3265,8548,9775,1644,1351,4050,757,1839,5621,7037,8750,2014,5199,1259,7358],()=>r(2602)),_N_E=e.O()}]);