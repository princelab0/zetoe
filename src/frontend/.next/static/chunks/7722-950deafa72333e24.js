"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7722],{1011:(e,t,r)=>{r.d(t,{c8:()=>s,i:()=>o,e4:()=>n,Ix:()=>d,Ti:()=>i}),Symbol.toStringTag;class a{eject(e){let t=this._fns.indexOf(e);-1!==t&&(this._fns=[...this._fns.slice(0,t),...this._fns.slice(t+1)])}use(e){this._fns=[...this._fns,e]}constructor(){this._fns=[]}}new a,new a;var s=function(e){return e.DONE="done",e.CURRENT="current",e.DEFAULT="default",e}({}),o=function(e){return e.LLAMA_3_70B="llama-3-70b",e.GPT_4O="gpt-4o",e.GPT_4O_MINI="gpt-4o-mini",e}({}),d=function(e){return e.Web="web",e.Research="Research",e.Writing="writing",e.Grammar="Grammar",e.Translation="Translation",e}({}),n=function(e){return e.USER="user",e.ASSISTANT="assistant",e}({}),i=function(e){return e.BEGIN_STREAM="begin-stream",e.SEARCH_RESULTS="search-results",e.TEXT_CHUNK="text-chunk",e.RELATED_QUERIES="related-queries",e.STREAM_END="stream-end",e.FINAL_RESPONSE="final-response",e.ERROR="error",e.AGENT_QUERY_PLAN="agent-query-plan",e.AGENT_SEARCH_QUERIES="agent-search-queries",e.AGENT_READ_RESULTS="agent-read-results",e.AGENT_FINISH="agent-finish",e.AGENT_FULL_RESPONSE="agent-full-response",e}({})},73585:(e,t,r)=>{r.d(t,{BK:()=>i,eu:()=>n,q5:()=>l});var a=r(74494),s=r(79790),o=r(63452),d=r(71221);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.bL,{ref:t,className:(0,d.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});n.displayName=o.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o._V,{ref:t,className:(0,d.cn)("aspect-square h-full w-full",r),...s})});i.displayName=o._V.displayName;let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.H4,{ref:t,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});l.displayName=o.H4.displayName},55878:(e,t,r)=>{r.d(t,{$:()=>l});var a=r(74494),s=r(79790),o=r(73395),d=r(16983),n=r(71221);let i=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:d,asChild:l=!1,...c}=e,f=l?o.DX:"button";return(0,a.jsx)(f,{className:(0,n.cn)(i({variant:s,size:d,className:r})),ref:t,...c})});l.displayName="Button"},64684:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>n,wL:()=>f});var a=r(74494),s=r(79790),o=r(71221);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});d.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...s})});f.displayName="CardFooter"},58283:(e,t,r)=>{r.d(t,{SQ:()=>u,_2:()=>m,mB:()=>p,rI:()=>c,ty:()=>f});var a=r(74494),s=r(79790),o=r(43360),d=r(13773),n=r(72073),i=r(39159),l=r(71221);let c=o.bL,f=o.l9;o.YJ,o.ZL,o.Pb,o.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:n,...i}=e;return(0,a.jsxs)(o.ZP,{ref:t,className:(0,l.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...i,children:[n,(0,a.jsx)(d.A,{className:"ml-auto"})]})}).displayName=o.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.G5,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=o.G5.displayName;let u=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...d}=e;return(0,a.jsx)(o.ZL,{children:(0,a.jsx)(o.UC,{ref:t,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...d})})});u.displayName=o.UC.displayName;let m=s.forwardRef((e,t)=>{let{className:r,inset:s,...d}=e;return(0,a.jsx)(o.q7,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",r),...d})});m.displayName=o.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:d,...i}=e;return(0,a.jsxs)(o.H_,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:d,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.VF,{children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}),s]})}).displayName=o.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(o.hN,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.VF,{children:(0,a.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=o.hN.displayName,s.forwardRef((e,t)=>{let{className:r,inset:s,...d}=e;return(0,a.jsx)(o.JU,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...d})}).displayName=o.JU.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});p.displayName=o.wv.displayName},39274:(e,t,r)=>{r.d(t,{bq:()=>m,eb:()=>x,gC:()=>h,l6:()=>c,s3:()=>f,yv:()=>u});var a=r(74494),s=r(79790),o=r(45091),d=r(33077),n=r(14968),i=r(72073),l=r(71221);let c=o.bL,f=o.YJ,u=o.WT,m=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(o.l9,{ref:t,className:(0,l.cn)("flex h-[34px] w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[s,(0,a.jsx)(o.In,{asChild:!0,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})});m.displayName=o.l9.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.PP,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=o.PP.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.wn,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})});g.displayName=o.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:d="popper",...n}=e;return(0,a.jsx)(o.ZL,{children:(0,a.jsxs)(o.UC,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:d,...n,children:[(0,a.jsx)(p,{}),(0,a.jsx)(o.LM,{className:(0,l.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(g,{})]})})});h.displayName=o.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.JU,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",r),...s})}).displayName=o.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(o.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...d,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(o.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(o.p4,{children:s})]})});x.displayName=o.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=o.wv.displayName},603:(e,t,r)=>{r.d(t,{w:()=>n});var a=r(74494),s=r(79790),o=r(92546),d=r(71221);let n=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:n=!0,...i}=e;return(0,a.jsx)(o.b,{ref:t,decorative:n,orientation:s,className:(0,d.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...i})});n.displayName=o.b.displayName},71221:(e,t,r)=>{r.d(t,{cn:()=>o,gL:()=>d,xZ:()=>n});var a=r(46191),s=r(47006);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function d(e,t){return e?e.length>t?"".concat(e.substring(0,t),"..."):e:""}let n=(e,t)=>e&&"number"==typeof e.main.temp?Math.round(t?9*e.main.temp/5+32:e.main.temp):"N/A"},56545:(e,t,r)=>{r.d(t,{Lo:()=>h,JH:()=>N,Qv:()=>x,ZS:()=>g});var a=r(98017),s=r(46502),o=r(1011),d=r(25082);let n=(0,d.U)(),i=e=>({model:o.i.GPT_4O,proMode:!1,setModel:t=>{e({model:t})},isAuthenticated:!1,promptMode:o.Ix.Web,setPromptMode:async t=>{let r=t===o.Ix.Research;t===o.Ix.Web||o.Ix.Research,e({promptMode:t,proMode:r,model:o.i.LLAMA_3_70B});try{var a;let{data:r}=await n.auth.getUser(),s=null===(a=r.user)||void 0===a?void 0:a.id;if(!s){console.error("No user ID found"),e({promptMode:o.Ix.Web,proMode:!1,model:o.i.GPT_4O});return}let{error:d}=await n.from("users").update({search_mode:t}).eq("id",s);if(d)throw console.error("Error updating promptMode:",d),e({promptMode:o.Ix.Web,proMode:!1,model:o.i.GPT_4O}),d}catch(e){console.error("Unexpected error in setPromptMode:",e)}}}),l=(0,d.U)(),c=e=>{let t=async t=>{let{data:r,error:a}=await l.from("users").select("pro_search_count").eq("id",t).single();if(a){console.error(a);return}e({proSearchCount:(null==r?void 0:r.pro_search_count)||0})};return{threadId:null,messages:[],proSearchCount:0,isGroqMode:!1,addMessage:t=>e(e=>({messages:[...e.messages,t]})),setThreadId:t=>e({threadId:t}),setMessages:t=>e({messages:t}),updateProSearchCount:async(r,a)=>{try{let{data:s,error:o}=await l.from("users").select("pro_search_count").eq("id",a).single();if(o){console.error("Error fetching proSearchCount from database:",o);return}let d=((null==s?void 0:s.pro_search_count)||0)+r,{error:n}=await l.from("users").update({pro_search_count:d}).eq("id",a);if(n){console.error("Error updating proSearchCount in database:",n);return}e(e=>({proSearchCount:d})),await t(a)}catch(e){console.error("Unexpected error in updateProSearchCount:",e)}},fetchProSearchCount:t,setIsGroqMode:t=>e({isGroqMode:t})}},f=e=>({ProfileData:{},loadProfileData:t=>e(e=>({...e,ProfileData:{...e.ProfileData,...t}}))}),u=e=>({isWidgetVisible:!1,activeWidgets:[],setActiveWidgets:t=>e({activeWidgets:t}),setIsWidgetVisible:t=>e({isWidgetVisible:t}),toggleWidgetVisibility:()=>e(e=>({isWidgetVisible:!e.isWidgetVisible}))}),m=e=>({grokMessages:[],setGrokMessages:t=>{e({grokMessages:t})}}),p=(0,s.vt)()((0,a.Zr)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return{...c(...t),...i(...t),...f(...t),...u(...t),...m(...t)}},{name:"store",partialize:e=>({isWidgetVisible:e.isWidgetVisible,promptMode:e.promptMode,model:e.model})})),g=()=>p(e=>({isWidgetVisible:e.isWidgetVisible,toggleWidgetVisibility:e.toggleWidgetVisibility,activeWidgets:e.activeWidgets,setActiveWidgets:e.setActiveWidgets,setIsWidgetVisible:e.setIsWidgetVisible})),h=()=>p(e=>({messages:e.messages,addMessage:e.addMessage,setMessages:e.setMessages,threadId:e.threadId,isGroqMode:e.isGroqMode,setThreadId:e.setThreadId,updateProSearchCount:e.updateProSearchCount,fetchProSearchCount:e.fetchProSearchCount,proSearchCount:e.proSearchCount,setIsGroqMode:e.setIsGroqMode})),x=()=>p(e=>({grokMessages:e.grokMessages,setGrokMessages:e.setGrokMessages})),N=()=>p(e=>({model:e.model,setModel:e.setModel,proMode:e.proMode,profileData:e.ProfileData,promptMode:e.promptMode,setPromptMode:e.setPromptMode}))},25082:(e,t,r)=>{r.d(t,{U:()=>o});var a=r(64059),s=r(5183);let o=()=>(0,a.createBrowserClient)(s.env.NEXT_PUBLIC_SUPABASE_URL,s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},27375:(e,t,r)=>{r.d(t,{uV:()=>s});var a=r(79790);(0,a.cache)(async e=>{let{data:{user:t}}=await e.auth.getUser();return t});let s=(0,a.cache)(async e=>{let{data:t,error:r}=await e.from("subscriptions").select("*, prices(*, products(*))").in("status",["trialing","active"]).maybeSingle();return t});(0,a.cache)(async e=>{let{data:t,error:r}=await e.from("products").select("*, prices(*)").eq("active",!0).eq("prices.active",!0).order("metadata->index").order("unit_amount",{referencedTable:"prices"});return t}),(0,a.cache)(async e=>{let{data:t}=await e.from("users").select("*").single();return t})}}]);