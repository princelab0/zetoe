(()=>{var e={};e.id=651,e.ids=[651],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},15254:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var s=r(96409),n=r(91790),a=r(14792),i=r.n(a),l=r(1615),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["subscriptions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,97266)),"/Users/prince/Documents/Github/zetoe/src/frontend/src/app/subscriptions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,35449)),"/Users/prince/Documents/Github/zetoe/src/frontend/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,67102)),"/Users/prince/Documents/Github/zetoe/src/frontend/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,6500,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,98373,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,68050,23)),"next/dist/client/components/unauthorized-error"]}],u=["/Users/prince/Documents/Github/zetoe/src/frontend/src/app/subscriptions/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/subscriptions/page",pathname:"/subscriptions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},74729:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"4083467d242aeff4847b182036363309dceed58a07":()=>n.A,"4084552e6bdfc0b6822047ffb804273742135ce0a7":()=>s.q,"605a1181c524e284913fe0b0ee1e44f43f54659df8":()=>s.s});var s=r(30300),n=r(96091)},31770:(e,t,r)=>{Promise.resolve().then(r.bind(r,67791))},66050:(e,t,r)=>{Promise.resolve().then(r.bind(r,42763))},42763:(e,t,r)=>{"use strict";let s;r.d(t,{default:()=>k});var n,a=r(83451),i="https://js.stripe.com/v3",l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var r=e[t];if(l.test(r.src))return r}return null},c=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(i).concat(t);var s=document.head||document.body;if(!s)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},u=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.6.0",startTime:t})},d=null,p=null,m=null,x=function(e,t,r){if(null===e)return null;var s=e.apply(void 0,t);return u(s,r),s},f=!1,h=function(){return n||(n=(null!==d?d:(d=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r,s=o();s?s&&null!==m&&null!==p&&(s.removeEventListener("load",m),s.removeEventListener("error",p),null===(r=s.parentNode)||void 0===r||r.removeChild(s),s=c(null)):s=c(null),m=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},p=function(){t(Error("Failed to load Stripe.js"))},s.addEventListener("load",m),s.addEventListener("error",p)}catch(e){t(e);return}})).catch(function(e){return d=null,Promise.reject(e)})).catch(function(e){return n=null,Promise.reject(e)}))};Promise.resolve().then(function(){return h()}).catch(function(e){f||console.warn(e)});var b=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];f=!0;var s=Date.now();return h().then(function(e){return x(e,t,s)})};let v=()=>(s||(s=b(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY_LIVE??""??"")),s);var g=r(79695);let y=(0,g.createServerReference)("605a1181c524e284913fe0b0ee1e44f43f54659df8",g.callServer,void 0,g.findSourceMapURL,"checkoutWithStripe");var w=r(57547),j=r(33681),_=r(66622),P=r(88110),N=r(5009),E=r(68882);function k({user:e,products:t,subscription:r}){let s=Array.from(new Set(t.flatMap(e=>e?.prices?.map(e=>e?.interval)))),n=(0,j.useRouter)(),[i,l]=(0,_.useState)("month"),[o,c]=(0,_.useState)(),u=(0,j.usePathname)(),d=(0,E.useTranslations)("pricing"),p=d.raw("freePlan.benefits"),m=d.raw("proPlan.benefits"),x=async t=>{if(c(t.id),!e)return c(void 0),n.push("/signin/signup");let{errorRedirect:r,sessionId:s}=await y(t,u);if(r)return c(void 0),n.push(r);if(!s)return c(void 0),n.push((0,w.XM)(u,"An unknown error occurred.","Please try again later or contact a system administrator."));let a=await v();a?.redirectToCheckout({sessionId:s}),c(void 0)};return t.length?(0,a.jsxs)("section",{id:"plans",className:"bg-transparent w-full h-full   pt-[72px] overflow-hidden px-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-start mb-10 gap-2 ",children:[(0,a.jsxs)("h1",{className:"text-3xl font-medium text-center text-gray-800 dark:text-gray-100 w-full",children:[d("title")," "]}),(0,a.jsxs)("div",{className:"p-[4px] flex gap-2 rounded-3xl border border-slate-300 bg-slate-200 ",children:[s.includes("month")&&(0,a.jsx)("button",{onClick:()=>l("month"),type:"button",className:`${"month"===i?"bg-white":"bg-transparent"} font-medium text-sm dark:text-neutral-950 rounded-full px-3 py-[6px] transition-all ease-linear duration-500`,children:d("monthly")}),s.includes("year")&&(0,a.jsx)("button",{onClick:()=>l("year"),type:"button",className:`${"year"===i?"bg-white":"bg-transparent"} font-medium text-sm dark:text-neutral-950 rounded-full px-3 py-[6px] transition ease-linear duration-500`,children:d("yearly")})]})]}),(0,a.jsx)("div",{className:"flex mx-4 mb-4 flex-col md:flex-row justify-center gap-8 md:gap-10 px-4 md:mb-8 md:px-0",children:t.map(e=>{let t="Free"===e.name?e.prices[0]:e?.prices?.find(e=>e.interval===i);if(!t)return null;let s=new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency,minimumFractionDigits:0}).format((t?.unit_amount||0)/100).replace("$","");return(0,a.jsxs)("article",{className:`md:min-w-[12.75rem] md:max-w-[22rem] md:h-[25rem] md:w-1/2  w-full flex flex-col  dark:bg-[hsl(180,3%,13%)] justify-center items-center md:justify-start md:items-start md:text-center text-center gap-4 p-4 bg-transparent rounded-2xl shadow-3xl ${"Free"===e.name?"ring-1 ring-gray-950 ":"md:scale-105  ring-1 ring-blue-400  "} transition  dark:bg-[hsl(0,0%,5%)]`,children:[(0,a.jsxs)("div",{className:"flex gap-2 justify-start items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-black dark:text-green-300",children:e.name}),"Pro"===e.name?(0,a.jsx)("span",{className:"ring-1 text-[12px] ring-blue-400 px-2 py-[2px]  text-blue-400 rounded-lg font-medium",children:d("popularBadge")}):""]}),(0,a.jsxs)("h2",{className:"text-xl font-semibold flex justify-start text-start",children:[(0,a.jsx)("pre",{className:"text-[hsl(0,0%,36%)] dark:text-gray-300 text-lg",children:"$"}),(0,a.jsx)("span",{className:"text-black dark:text-white text-5xl font-medium items-start",children:s}),(0,a.jsxs)("span",{className:"text-[hsl(0,0%,80%)] font-[400] dark:text-gray-140 text-sm relative",children:[(0,a.jsx)("span",{className:"absolute top-2 left-1",children:" USD/"}),(0,a.jsx)("span",{className:"absolute top-6 left-1",children:"year"===i?d("yearly"):d("monthly")})]})]}),(0,a.jsx)("h3",{className:"text-black dark:text-white text-start text-wrap w-3/4 md:w-full",children:"Free"===e.name?d("freePlan.description"):d("proPlan.description")}),(0,a.jsx)(P.$,{disabled:"Free"===e.name||null!==r,onClick:()=>x(t),className:`${"Free"===e.name?" bg-neutral-200 hover:bg-neutral-200/80 dark:text-neutral-950 text-neutral-950 cursor-not-allowed disabled:bg-neutral-200":"hover:bg-neutral-950/80 bg-neutral-950 text-neutral-50 dark:text-neutral-50"} px-4 w-3/4 md:w-full disabled:pointer-events-auto text-sm disabled:cursor-not-allowed font-bold py-3 rounded-3xl transition`,children:o===t.id?d("processing"):"Free"===e.name?d("getStarted"):r?d("subscribed"):d("subscribe")}),(0,a.jsx)("ul",{className:"flex flex-col text-sm gap-2 md:justify-start md:items-start w-3/4 md:w-[100%] text-black dark:text-white",children:"Free"===e.name?p.map((e,t)=>(0,a.jsxs)("li",{className:"flex gap-1 justify-start items-center",children:[(0,a.jsx)("span",{className:"w-4 h-4",children:(0,a.jsx)(N.A,{size:14})}),(0,a.jsx)("span",{children:e})]},t)):m.map((e,t)=>(0,a.jsxs)("li",{className:"flex gap-1 justify-start items-center",children:[(0,a.jsx)("span",{className:"w-4 h-4",children:(0,a.jsx)(N.A,{size:14})}),(0,a.jsx)("span",{children:e})]},t))})]},e.name)})})]}):(0,a.jsx)("section",{className:"bg-transparent",children:(0,a.jsxs)("div",{className:"max-w-6xl px-4 py-8 mx-auto sm:py-24 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"sm:flex sm:flex-col sm:align-center"}),(0,a.jsxs)("p",{className:"text-2xl font-extrabold text-gray-600 dark:text-gray-400 sm:text-center sm:text-xl",children:[d("featureUnavailable")," "]})]})})}},57547:(e,t,r)=>{"use strict";r.d(t,{AP:()=>s,XM:()=>i});let s=(e="")=>{let t=process?.env?.NEXT_PUBLIC_SITE_URL&&""!==process.env.NEXT_PUBLIC_SITE_URL.trim()?process.env.NEXT_PUBLIC_SITE_URL:process?.env?.NEXT_PUBLIC_VERCEL_URL&&""!==process.env.NEXT_PUBLIC_VERCEL_URL.trim()?process.env.NEXT_PUBLIC_VERCEL_URL:"http://localhost:3000/";return t=(t=t.replace(/\/+$/,"")).includes("http")?t:`https://${t}`,(e=e.replace(/^\/+/,""))?`${t}/${e}`:t},n={status:["status","status_description"],error:["error","error_description"]},a=(e,t,r,s="",a=!1,i="")=>{let[l,o]=n[t],c=`${e}?${l}=${encodeURIComponent(r)}`;return s&&(c+=`&${o}=${encodeURIComponent(s)}`),a&&(c+="&disable_button=true"),i&&(c+=`&${i}`),c},i=(e,t,r="",s=!1,n="")=>a(e,"error",t,r,s,n)},97266:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(85087),n=r(67791),a=r(33786);let i=(0,a.cache)(async e=>{let{data:{user:t}}=await e.auth.getUser();return t}),l=(0,a.cache)(async e=>{let{data:t,error:r}=await e.from("subscriptions").select("*, prices(*, products(*))").in("status",["trialing","active"]).maybeSingle();return t}),o=(0,a.cache)(async e=>{let{data:t,error:r}=await e.from("products").select("*, prices(*)").eq("active",!0).eq("prices.active",!0).order("metadata->index").order("unit_amount",{referencedTable:"prices"});return t});(0,a.cache)(async e=>{let{data:t}=await e.from("users").select("*").single();return t});var c=r(71182);async function u(){let e=await (0,c.U)(),[t,r,a]=await Promise.all([i(e),o(e),l(e)]);return(0,s.jsx)(n.default,{user:t,products:r??[],subscription:a})}},67791:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(86817).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/prince/Documents/Github/zetoe/src/frontend/src/components/pricing/price.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/prince/Documents/Github/zetoe/src/frontend/src/components/pricing/price.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[149,318,300,90,97,504],()=>r(15254));module.exports=s})();